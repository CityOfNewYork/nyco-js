<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta content="IE=edge" http-equiv="X-UA-Compatible" />
  <meta content="width=device-width, initial-scale=1" name="viewport" />
  <title>NYC Opportunity Patterns Framework</title>
  <link href="styles/site-default.css" rel="stylesheet" />
</head>

<body>
  <main class="container mx-auto">
    <h1>1.0.0-9</h1>
    <h2>Toggle</h2>
    <h1 id="toggle">Toggle</h1>
    <p>The Toggle utility uses JavaScript to expand and collapse elements based on user interaction. This will toggle dynamic aria attributes as well as dynamic classes on both the toggling element and target of the toggle. The class “hidden” will be toggled on the target element and the class “active” will be toggled on the toggling element and target element. The target is selected using the static <code>aria-controls</code> attribute by its <code>id</code>.</p>
    <h2 id="usage">Usage</h2>
    <h3 id="javascript">JavaScript</h3>
    <pre><code>import Toggle from &#39;@nycopportunity/patterns-framework/src/utilities/toggle/toggle&#39;;

new Toggle();</code></pre>
    <h3 id="markup">Markup</h3>
    <p>Elements should have the hidden or active state set before initialization.</p>
    <p>
      <strong>Hidden</strong>
    </p>
    <pre><code>&lt;button aria-controls=&quot;toggle-target&quot; aria-expanded=&quot;false&quot; data-js=&quot;toggle&quot; type=&quot;button&quot;&gt;
  Toggle
&lt;/button&gt;

&lt;div aria-hidden=&quot;true&quot; class=&quot;hidden&quot; id=&quot;toggle-target&quot;&gt;
  &lt;p&gt;Targeted Toggle Element&lt;/p&gt;
&lt;/div&gt;</code></pre>
    <p>
      <strong>Active</strong>
    </p>
    <pre><code>&lt;button class=&quot;active&quot; aria-controls=&quot;toggle-target&quot; aria-expanded=&quot;true&quot; data-js=&quot;toggle&quot; type=&quot;button&quot;&gt;
  Toggle
&lt;/button&gt;

&lt;div aria-hidden=&quot;false&quot; class=&quot;active&quot; id=&quot;toggle-target&quot;&gt;
  &lt;p&gt;Targeted Toggle Element&lt;/p&gt;
&lt;/div&gt;</code></pre>
    <p>The use of the dynamic <code>aria-expanded</code> attribute on the toggling element is recommended for toggling elements as it will announce that the target of the toggle is “expanded” or “collapsed.” Optionally, the attribute <code>aria-pressed</code> can be used instead to announce that the toggle button is “pressed” or “not pressed”. These attributes provide different feedback to screenreaders and are appropriate for different component types. <code>aria-expanded</code> would be used for patterns such as <a href="https://inclusive-components.design/collapsible-sections/">
        <strong>collapsible sections</strong>
      </a> and <code>aria-pressed</code> would be used for <a href="https://inclusive-components.design/toggle-button/">
        <strong>toggle buttons</strong>
      </a> or <strong>switches</strong>. A full list of dynamic and static attributes is described below.</p>
    <p>Placement of the target should follow the toggling element so that it appears next in order on the page for screen readers. For targets that are far apart or appear in a different section of the page, the Anchor Toggle may be more appropriate.</p>
    <p>Elements that have aria-hidden set to <code>true</code> should not contain focusable elements. Setting their tabindex to <code>-1</code> will prevent them from being focused on. For convenience, child elements in the target element that have their <code>tabindex</code> set will be toggled.</p>
    <pre><code>&lt;button aria-controls=&quot;toggle-target&quot; aria-expanded=&quot;false&quot; data-js=&quot;toggle&quot; type=&quot;button&quot;&gt;
  Toggle
&lt;/button&gt;

&lt;div aria-hidden=&quot;true&quot; class=&quot;hidden&quot; id=&quot;toggle-target&quot;&gt;
  &lt;p&gt;Targeted Toggle Element&lt;/p&gt;

  &lt;a href=&#39;#&#39; tabindex=&quot;-1&quot;&gt;A Focusable Child Element&lt;/a&gt;
&lt;/div&gt;</code></pre>
    <p>The Toggle Utility supports having more than one toggle element per toggle target. An example use case is for “close” buttons within dialogue elements.</p>
    <pre><code>&lt;button aria-controls=&quot;toggle-target&quot; aria-expanded=&quot;false&quot; data-js=&quot;toggle&quot; type=&quot;button&quot;&gt;
  Toggle
&lt;/button&gt;

&lt;div aria-hidden=&quot;true&quot; class=&quot;hidden&quot; id=&quot;toggle-target&quot;&gt;
  &lt;p&gt;Targeted Toggle Element&lt;/p&gt;

  &lt;button tabindex=&quot;-1&quot; aria-controls=&quot;main-menu&quot; aria-expanded=&quot;false&quot; data-js=&quot;toggle&quot;&gt;
    Close
  &lt;/button&gt;
&lt;/div&gt;</code></pre>
    <h3 id="attributes">Attributes</h3>
    <p>Attributes on the Element, Target, and Target Children, such as <code>aria-hidden</code>, <code>aria-controls</code>, <code>aria-expanded</code>, <code>type</code>, and <code>tabindex</code> help assistive technologies understand the relationship between each element and their respective states of visibility. These attributes should be present but they may be interchanged with others based on the use case. Below is an explanation of all attributes that can be used with the toggle utility. <em>Static</em> attributes will not change. <em>Dynamic</em> attributes will change when the toggle event is fired.</p>
    <p>
      <strong>Toggling Element Attributes</strong>
    </p>
    <table>
      <thead>
        <tr>
          <th>Attribute</th>
          <th>State</th>
          <th>Importance</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            <code>aria-controls</code>
          </td>
          <td>
            <em>static</em>
          </td>
          <td>
            <strong>required</strong>
          </td>
          <td>ID of the target element. Used by the toggle to select the target element.</td>
        </tr>
        <tr>
          <td>
            <code>aria-expanded</code>
          </td>
          <td>
            <em>dynamic</em>
          </td>
          <td>recommended</td>
          <td>Boolean that announces that target content is “expanded” or “collapsed” when the toggling element is clicked.</td>
        </tr>
        <tr>
          <td>
            <code>type</code>
          </td>
          <td>
            <em>static</em>
          </td>
          <td>recommended</td>
          <td>Setting a <code>&lt;button&gt;</code> element type to “button” will distinguish it from other button types, such as “submit” and “reset,” but only within <code>&lt;form&gt;</code> elements. By default, a <code>&lt;button&gt;</code> is the type “submit” within a form.</td>
        </tr>
        <tr>
          <td>
            <code>aria-pressed</code>
          </td>
          <td>
            <em>dynamic</em>
          </td>
          <td>optional</td>
          <td>Boolean that announces that the toggling element is toggled. Not recommended for use with <code>aria-expanded</code>. Commonly used with buttons that act as switches for options that are on or off.</td>
        </tr>
        <tr>
          <td>
            <code>role</code>
          </td>
          <td>
            <em>static</em>
          </td>
          <td>optional</td>
          <td>If the toggling element is not a <code>&lt;button&gt;</code> element, but looks and behaves like a button (see documentation for the <a href="/buttons">Button Element</a>), then setting the <code>role</code> attribute to “button” is recommended. See <a href="https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles/button_role">MDN documentation for the “button” role</a> for more information</td>
        </tr>
      </tbody>
    </table>
    <p>
      <strong>Target Element Attributes</strong>
    </p>
    <table>
      <thead>
        <tr>
          <th>Attribute</th>
          <th>State</th>
          <th>Importance</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            <code>aria-hidden</code>
          </td>
          <td>
            <em>dynamic</em>
          </td>
          <td>recommended</td>
          <td>Boolean that hides the content of the target element when “collapsed.”</td>
        </tr>
        <tr>
          <td>
            <code>role</code>
          </td>
          <td>
            <em>static</em>
          </td>
          <td>optional</td>
          <td>Setting the target element’s <code>role</code> to “region” identifies the target as a significant area. See <a href="https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles/Region_role">MDN documentation for the “region” role</a> for more information.</td>
        </tr>
        <tr>
          <td>
            <code>aria-labelledby</code>
          </td>
          <td>
            <em>static</em>
          </td>
          <td>optional</td>
          <td>This is used along with the <code>role</code> attribute to label the content of a “region.” This can be set to the toggling elements <code>id</code> but can also be set to a different elements <code>id</code>.</td>
        </tr>
      </tbody>
    </table>
    <p>
      <strong>Target Element Child Attributes</strong>
    </p>
    <table>
      <thead>
        <tr>
          <th>Attribute</th>
          <th>State</th>
          <th>Importance</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            <code>tabindex</code>
          </td>
          <td>
            <em>dynamic</em>
          </td>
          <td>recommended</td>
          <td>Setting the toggle target’s focusable children’s <code>tabindex</code> attribute to “-1” will prevent them from being focused on when the parent is hidden. See the list below of potentially focusable elements that are supported.</td>
        </tr>
        <tr>
          <td>
            <code>data-toggle-tabindex</code>
          </td>
          <td>
            <em>static</em>
          </td>
          <td>optional</td>
          <td>If an child element has a <code>tabindex</code> that needs to be set when the parent target is visible then the default value can be stored in this data attribute.</td>
        </tr>
      </tbody>
    </table>
    <p>
      <strong>Potentially Focusable Elements</strong>
    </p>
    <pre><code>a, button, input, select, textarea, object, embed, form,
fieldset, legend, label, area, audio, video, iframe, svg,
details, table, [tabindex], [contenteditable], [usemap]</code></pre>
    <h3 id="configuration">Configuration</h3>
    <p>The Toggle Utility accepts an object <code>{}</code> with the following properties:</p>
    <table>
      <thead>
        <tr>
          <th>Option</th>
          <th>Type</th>
          <th>Importance</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            <code>selector</code>
          </td>
          <td>
            <em>string</em>
          </td>
          <td>optional</td>
          <td>Full selector string of the toggle element (this is passed to the <code>.matches()</code> method).</td>
        </tr>
        <tr>
          <td>
            <code>inactiveClass</code>
          </td>
          <td>
            <em>string/boolean</em>
          </td>
          <td>optional</td>
          <td>Single class name that will be toggled on the toggle and target element when the element is inactive or “collapsed.” Pass “false” to skip toggling an inactive class (there is no inactive class for the toggle element).</td>
        </tr>
        <tr>
          <td>
            <code>activeClass</code>
          </td>
          <td>
            <em>string/boolean</em>
          </td>
          <td>optional</td>
          <td>Single class name that will be toggled on the target element when the element is active or “expanded.” Pass “false” to skip toggling an active class.</td>
        </tr>
        <tr>
          <td>
            <code>before</code>
          </td>
          <td>
            <em>function</em>
          </td>
          <td>optional</td>
          <td>A function that will be executed before the toggling element and target classes and attributes are toggled. The function is passed the instance of the toggle class with several values that may be useful in the callback such as the settings, toggle element, toggle target, and initial click event.</td>
        </tr>
        <tr>
          <td>
            <code>after</code>
          </td>
          <td>
            <em>function</em>
          </td>
          <td>optional</td>
          <td>A function that will be executed after the toggling element and target classes and attributes are toggled. The function is passed the instance of the toggle class with several values that may be useful in the callback such as the settings, toggle element, toggle target, and initial click event.</td>
        </tr>
      </tbody>
    </table>
    <h2 id="polyfills">Polyfills</h2>
    <p>The script uses the <code>Element.prototype.matches</code>, <code>Element.prototype.removes</code>, <code>Nodelist.prototype.forEach</code> methods which require polyfills for IE11 support.</p>
    <h2 id="demo">Demo</h2>
    <p>
      <button aria-controls="toggle-target" aria-expanded="true" class="btn btn-primary mb-3" data-js="toggle" type="button">Toggle</button>
      <div aria-hidden="false" class="bg-color-blue-light p-4 text-center active" id="toggle-target">Targeted toggle element</div>
    </p> &lt;button aria-controls=&quot;toggle-target&quot; aria-expanded=&quot;true&quot; class=&quot;btn btn-primary mb-3&quot; data-js=&quot;toggle&quot; type=&quot;button&quot;&gt;Toggle&lt;/button&gt; &lt;div aria-hidden=&quot;false&quot; class=&quot;bg-color-blue-light p-4 text-center active&quot; id=&quot;toggle-target&quot;&gt;Targeted toggle element&lt;/div&gt;
  </main>
</body>

</html>